[build]
  publish = "."
  command = "echo 'No build step required'"

[build.environment]
  NODE_VERSION = "18"

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "camera=(), microphone=(), geolocation=(self)"

[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.css"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.js"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.png"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.jpg"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.jpeg"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.svg"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.webp"
  [headers.values]
    Cache-Control = "public, max-age=31536000"

[[headers]]
  for = "/*.html"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"

[[headers]]
  for = "/*.xml"
  [headers.values]
    Content-Type = "application/xml; charset=utf-8"
    Cache-Control = "public, max-age=3600"

# index.html es la página principal (contenido estático visible para AdSense)
# app.html es accesible desde un botón en index.html
# NO redirigir automáticamente a app.html

[[redirects]]
  from = "/privacy"
  to = "/privacy.html"
  status = 301

[[redirects]]
  from = "/terms"
  to = "/terms.html"
  status = 301

[[redirects]]
  from = "/contact"
  to = "/contact.html"
  status = 301

# Redirects para URLs sin .html (rastreadas por Google)
[[redirects]]
  from = "/about"
  to = "/about.html"
  status = 301

[[redirects]]
  from = "/blog"
  to = "/blog.html"
  status = 301

[[redirects]]
  from = "/app"
  to = "/app.html"
  status = 301

[[redirects]]
  from = "/workout-guides"
  to = "/workout-guides.html"
  status = 301

[[redirects]]
  from = "/fitness-tips"
  to = "/fitness-tips.html"
  status = 301

[[redirects]]
  from = "/fitness-calculators"
  to = "/fitness-calculators.html"
  status = 301

[[redirects]]
  from = "/exercises-library"
  to = "/exercises-library.html"
  status = 301

[[redirects]]
  from = "/faq"
  to = "/faq.html"
  status = 301

[[redirects]]
  from = "/resources"
  to = "/resources.html"
  status = 301

[[redirects]]
  from = "/testimonials"
  to = "/testimonials.html"
  status = 301

[[redirects]]
  from = "/pricing"
  to = "/pricing.html"
  status = 301

[[redirects]]
  from = "/news"
  to = "/news.html"
  status = 301

[[redirects]]
  from = "/compare"
  to = "/compare.html"
  status = 301

# Redirects para artículos sin .html
[[redirects]]
  from = "/cortisol-face-suplementos-2025"
  to = "/cortisol-face-suplementos-2025.html"
  status = 301

[[redirects]]
  from = "/proteina-cuanta-realmente-necesitas-2025"
  to = "/proteina-cuanta-realmente-necesitas-2025.html"
  status = 301

[[redirects]]
  from = "/relojes-fitness-smartwatch"
  to = "/relojes-fitness-smartwatch.html"
  status = 301

[[redirects]]
  from = "/almohadas-mejorar-sueno-2025"
  to = "/almohadas-mejorar-sueno-2025.html"
  status = 301

[[redirects]]
  from = "/equipamiento-fitness-casa"
  to = "/equipamiento-fitness-casa.html"
  status = 301

[[redirects]]
  from = "/gamificacion-fitness-gaming"
  to = "/gamificacion-fitness-gaming.html"
  status = 301

# Redirects adicionales para otros artículos
[[redirects]]
  from = "/suplementos-recomendados"
  to = "/suplementos-recomendados.html"
  status = 301

[[redirects]]
  from = "/suplementos-para-perder-grasa"
  to = "/suplementos-para-perder-grasa.html"
  status = 301

[[redirects]]
  from = "/proteinas-vegetales-2025"
  to = "/proteinas-vegetales-2025.html"
  status = 301

[[redirects]]
  from = "/libros-nutricion-deportiva-2025"
  to = "/libros-nutricion-deportiva-2025.html"
  status = 301

[[redirects]]
  from = "/esterillas-yoga-2025"
  to = "/esterillas-yoga-2025.html"
  status = 301

[[redirects]]
  from = "/batidoras-proteina-2025"
  to = "/batidoras-proteina-2025.html"
  status = 301

[[redirects]]
  from = "/pesas-equipamiento-casa-2025"
  to = "/pesas-equipamiento-casa-2025.html"
  status = 301

[[redirects]]
  from = "/ropa-deportiva-amazon"
  to = "/ropa-deportiva-amazon.html"
  status = 301

[[redirects]]
  from = "/empezar-a-correr-2-semanas"
  to = "/empezar-a-correr-2-semanas.html"
  status = 301

[[redirects]]
  from = "/empezar-correr-sobrepeso-2025"
  to = "/empezar-correr-sobrepeso-2025.html"
  status = 301

[[redirects]]
  from = "/10-mejores-ejercicios-casa-sin-equipamiento-2025"
  to = "/10-mejores-ejercicios-casa-sin-equipamiento-2025.html"
  status = 301

[[redirects]]
  from = "/empezar-correr-guia-completa"
  to = "/empezar-correr-guia-completa.html"
  status = 301

[[redirects]]
  from = "/nutricion-corredores"
  to = "/nutricion-corredores.html"
  status = 301

[[redirects]]
  from = "/rutina-gym-principiantes-2025"
  to = "/rutina-gym-principiantes-2025.html"
  status = 301

[[redirects]]
  from = "/black-friday-running-fitness-2025"
  to = "/black-friday-running-fitness-2025.html"
  status = 301

[[redirects]]
  from = "/regalos-fitness-navidad-2025"
  to = "/regalos-fitness-navidad-2025.html"
  status = 301

[[redirects]]
  from = "/errores-comunes-empezar-correr-2025"
  to = "/errores-comunes-empezar-correr-2025.html"
  status = 301

[[redirects]]
  from = "/calzado-ideal-empezar-correr-2025"
  to = "/calzado-ideal-empezar-correr-2025.html"
  status = 301

# Canonical domain: force https + apex
[[redirects]]
  from = "http://entrenoapp.com/*"
  to = "https://entrenoapp.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://www.entrenoapp.com/*"
  to = "https://entrenoapp.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "http://www.entrenoapp.com/*"
  to = "https://entrenoapp.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://entrenoapp.netlify.app/*"
  to = "https://entrenoapp.com/:splat"
  status = 301
  force = true
